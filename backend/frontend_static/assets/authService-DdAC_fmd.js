import{s,t as a}from"./index-D-_3EX_r.js";const i=()=>{if(!s){const n=new Error("Authentication service is not available. Please try again later.");throw n.name="SupabaseInitError",n}},w=async(n,t)=>{var o;try{i();const r=await s.auth.signUp({email:n,password:t});if(r.error)throw await a("/auth/sign-up","POST",{email:n},null,r.error),new Error(r.error.message||"Failed to sign up");if(!((o=r.data)!=null&&o.user))throw new Error("No user data received from sign up");return await a("/auth/sign-up","POST",{email:n},r.data,void 0),r}catch(r){const e=r instanceof Error?r:new Error("Unknown error during sign up");throw await a("/auth/sign-up","POST",{email:n},null,e),e}},g=async(n,t)=>{var o;try{i();const r=await s.auth.signInWithPassword({email:n,password:t});if(r.error)throw await a("/auth/sign-in","POST",{email:n},null,r.error),new Error(r.error.message||"Failed to sign in");if(!((o=r.data)!=null&&o.user))throw new Error("No user data received from sign in");return await a("/auth/sign-in","POST",{email:n},r.data,void 0),r}catch(r){const e=r instanceof Error?r:new Error("Unknown error during sign in");throw await a("/auth/sign-in","POST",{email:n},null,e),e}},c=async()=>{var n;try{i();const t=await s.auth.getUser();if(t.error)throw await a("/auth/user","GET",null,null,t.error),new Error(t.error.message||"Failed to get current user");return(n=t.data)!=null&&n.user?(await a("/auth/user","GET",null,t.data,void 0),t):{data:{user:null}}}catch(t){const o=t instanceof Error?t:new Error("Unknown error getting current user");throw await a("/auth/user","GET",null,null,o),o}};export{w as a,c as g,g as s};
//# sourceMappingURL=authService-DdAC_fmd.js.map
